<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="index.css">
  <title>Usando componentes e propriedades</title>
</head>
<body>
  <h1>Usando componentes e propriedades</h1>

  <p>At√© agora s√≥ criamos um elemento fixo e o importamos dentro de nosso App. Em um cen√°rio real para que de fato possamos reutilizar nossos componentes em m√∫ltiplos lugares seria mais interessante que o componente recebesse partes do conte√∫do e simplesmente determinasse como ele se comporta. Vamos supor por exemplo que temos uma lista de compras e uma lista de tarefas na mesma p√°gina. Seria muito trabalhoso e nem um pouco eficiente criarmos outro componente para a lista de tarefas quando temos um praticamente id√™ntico com nossas compras. Como resolvemos esse problema? Com propriedades.</p>

  <p>Propriedades s√£o ‚Äúatributos‚Äù que atrelamos ao nosso componente quando o usamos no componente ‚Äúpai‚Äù e que podemos acessar atrav√©s de uma vari√°vel especial chamada props (aquela mesma que temos como par√¢metro na declara√ß√£o de nosso componente). Ela retorna um objeto JS que cont√©m todos esses ‚Äúatributos‚Äù, o que nos permite criar uma l√≥gica mais inteligente ao renderizar os elementos.</p>

  <p>Para exemplificar vamos criar duas vari√°veis em App.js:</p>

  <pre>
    class App extends Component {
      render()
      {
        var listaCompras = ["Alface", "Tomate", "Queijo", "Macarr√£o", "Arroz"],
        listaTarefas = ["Lavar lou√ßa", "Varrer sala", "Levar o lixo para fora", "Estudar React"];
     
        return (
          &ltdiv className="App"&gt
  </pre>

  <p>Que deve ficar assim:</p>

  <img src="img/img01.png">

  <p>Para cada uma delas vamos chamar uma lista:</p>

  <pre>
    &lth3&gtLista de Compras&lt/h3&gt
    &ltLista elementos={listaCompras} /&gt
    &lth3&gtLista de Tarefas&lt/h3&gt
    &ltLista elementos={listaTarefas} /&gt
    
    &lt/header&gt
  </pre>
  
  <p>Repare que usamos o interpolador para passar as vari√°veis. Isso √© importante para o JSX entender que o que passamos aqui √© a vari√°vel, n√£o uma string com seu nome. Bom, e agora? Se formos para nosso componente, podemos agora acessar em ‚Äúelementos‚Äù os valores passados em cada um. Por exemplo:</p>

  <pre>
    const lista = (props) => {
      console.log("[Lista.js] elementos: ", props.elementos);
  </pre>
  
  <p>Retornar√° uma chamada de console com os arrays:</p>

  <img src="img/img02.png">

  <p>Assim podemos usar eles dentro do nosso componente para criar as listas de modo independente usando a l√≥gica de repetidores que aprendemos anteriormente:</p>

  <pre>
    const lista = (props) =&gt {
      console.log(‚Äú[Lista.js] elementos: ‚Äú,props.elementos);
      return (
        &ltdiv&gt
          &ltul&gt
            {
              props.elementos.map((item, index)=&gt{
                return &ltli key={'lista-item-'+item+'-'+index}&gt{item}&lt/li&gt
              })
            }
          &lt/ul&gt
        &lt/div&gt
      )
    };
  </pre>

  <p>Com a indenta√ß√£o correta ficaria assim:</p>

  <img src="img/img03.png">

  <p>Resultando em duas listas distintas:</p>

  <img src="img/img04.png">

  <p>Isso cobre como usamos propriedades dentro de componentes funcionais, mas e componentes de classe? Se tentarmos fazer algo parecido teremos erros dizendo que n√£o declaramos essa vari√°vel! E de fato, n√£o declaramos. Aqui entra uma diferen√ßa muito clara entre essas diferentes categorias de componente: o uso da refer√™ncia <i>this</i>. Tecnicamente falando, essa vari√°vel existe sim em nossa classe. O problema √© que como estamos em uma classe e n√£o em uma fun√ß√£o o √∫nico modo de acessarmos essa propriedade √© usando o prefixo <i>this</i>, indicando que √© uma refer√™ncia ao pr√≥prio objeto. Assim, podemos lidar com o props desde que o usemos como this.props.&ltpropriedade&gt. Um jeito f√°cil de averiguar isso √© editar o arquivo index.js e, onde chamamos o componente App (sim, ele √© um componente!) criar um atributo ‚Äút√≠tulo‚Äù qualquer:</p>

  <pre>
    ReactDOM.render(
      &ltReact.StrictMode&gt
      &ltApp titulo="App supimpa!" /&gt
      &lt/React.StrictMode&gt,
      document.getElementById('root')
    );
  </pre>

  <p>Formatado √© assim:</p>

  <img src="img/img05.png">

  <p>E us√°-lo dentro do App:</p>

    <pre>
      return (
        &ltdiv className="App"&gt
        &ltheader className="App-header"&gt
        &lth1&gt{this.props.titulo}&lt/h1&gt
        &ltimg src={logo} className="App-logo" alt="logo" /&gt
          &ltp>
    </pre>

  <p>Que formatado ser√° assim:</p>

  <img src="img/img06.png">

  <p>üìÅ Materiais complementares:</p>

  <p>Lembrando que voc√™ pode conferir tamb√©m alguns exemplos usados nos v√≠deos anteriores: <a href="https://github.com/newtab-academy/react-exercicios">https://github.com/newtab-academy/react-exercicios</a></p>
</body>
</html>